!function(a){var b={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var d,e,f,g,h,i,j,c="",k=0;for(a=b._utf8_encode(a);k<a.length;)d=a.charCodeAt(k++),e=a.charCodeAt(k++),f=a.charCodeAt(k++),g=d>>2,h=(3&d)<<4|e>>4,i=(15&e)<<2|f>>6,j=63&f,isNaN(e)?i=j=64:isNaN(f)&&(j=64),c=c+this._keyStr.charAt(g)+this._keyStr.charAt(h)+this._keyStr.charAt(i)+this._keyStr.charAt(j);return c},decode:function(a){var d,e,f,g,h,i,j,c="",k=0;for(a=a.replace(/[^A-Za-z0-9+\/=]/g,"");k<a.length;)g=this._keyStr.indexOf(a.charAt(k++)),h=this._keyStr.indexOf(a.charAt(k++)),i=this._keyStr.indexOf(a.charAt(k++)),j=this._keyStr.indexOf(a.charAt(k++)),d=g<<2|h>>4,e=(15&h)<<4|i>>2,f=(3&i)<<6|j,c+=String.fromCharCode(d),64!=i&&(c+=String.fromCharCode(e)),64!=j&&(c+=String.fromCharCode(f));return c=b._utf8_decode(c)},_utf8_encode:function(a){a=a.replace(/rn/g,"n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}};a.phavison=function(c,d){void 0===d&&(d={});var f,e=(new Date).getMilliseconds(),g=a.extend({url:"bin/phavison.php",variables:!1,async_enabled:!0,async_function:"phavisonCallback",debug_error:!1,debug_notify:!1,ajax_settings:!1,get_enabled:!1},d);if(null!==c){var h="POST";g.get_enabled!==!1&&(h="GET");var i=null;g.variables!==!1&&(i=b.encode(JSON.stringify(g.variables)));var j={call_to:c,parameters:i},k={};g.ajax_settings!==!1&&(k=g.ajax_settings);var l=a.extend({url:g.url,method:h,async:g.async_enabled,data:j},k);a.ajax(l).done(function(a){f=a,g.debug_notify&&alert(JSON.stringify(f).split("\\").join(""));var b=jQuery.parseJSON(f);if(g.debug_error&&0!==b.err_code){var c=(new Date).getMilliseconds(),d=c-e;d<0&&(d+=1),alert("PHAVISON-ERROR-"+b.err_code+": "+b.err_msg+"\nINFO:\nFunction Called: "+b.function_called+"\nParameters Defined: "+b.variables+"\nPHP Execution Time: "+b.exec_time+" Milliseconds\nTotal Execution Time: "+d+" Milliseconds")}1==g.async_enabled&&window[g.async_function](b)}).fail(function(){f={error:"The Phavison AJAX call has failed please verify your phavison settings and make the call again."},g.debug_error&&alert("The Phavison AJAX call has failed please verify your phavison settings and make the call again.")})}else f={error:"No PHP function was given. Please try again!"};return f}}(jQuery);